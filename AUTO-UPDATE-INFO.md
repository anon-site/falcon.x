# 🔄 نظام التحديث التلقائي - Auto Update System

## كيف يعمل النظام؟

تم تطبيق نظام تحديث تلقائي ذكي يضمن أن البيانات محدثة دائماً دون الحاجة لتدخل المستخدم.

---

## ⚙️ آلية العمل

### 1. **التحميل الأول**
- عند زيارة الموقع لأول مرة، يتم تحميل البيانات من GitHub
- يتم حفظ البيانات في localStorage للوصول السريع
- يتم تسجيل وقت آخر تحديث

### 2. **الزيارات التالية**
- يتم تحميل البيانات من localStorage (سريع جداً ⚡)
- يتحقق النظام تلقائياً من وقت آخر تحديث

### 3. **التحديث التلقائي**
- **كل 24 ساعة** يتم مسح الكاش تلقائياً
- يتم تحميل البيانات الجديدة من GitHub
- يظهر إشعار للمستخدم: "🔄 Updating data from server..."

---

## 🎯 المزايا

✅ **سرعة عالية**: البيانات محفوظة محلياً  
✅ **تحديثات تلقائية**: كل 24 ساعة بدون تدخل  
✅ **توفير البيانات**: تحميل واحد كل يوم فقط  
✅ **حفظ الإعدادات**: الثيمات والإعدادات لا تُمسح  
✅ **استقرار**: يعمل حتى بدون GitHub API  

---

## 🛠️ التحكم اليدوي

### زر Refresh في الموقع
```javascript
// اضغط على زر 🔄 في الهيدر
// سيمسح الكاش ويحمّل البيانات فوراً
```

### مسح الكاش يدوياً
1. افتح Developer Tools (F12)
2. اذهب إلى Application → Local Storage
3. احذف المفاتيح التي تبدأ بـ `falcon-x-`
4. أعد تحميل الصفحة

### أو استخدم الأداة
افتح: `clear-storage.html`

---

## 📊 معلومات التحديث

### في Console (F12)
```
🕒 Next auto-update: in 23h 45m
💡 Tip: Data updates automatically every 24 hours. Use refresh button for manual update.
```

### ما يتم حفظه
- ✅ البيانات (Apps, Games, Tools)
- ✅ وقت آخر تحديث
- ✅ الثيمات والإعدادات

### ما يتم مسحه (كل 24 ساعة)
- 🔄 قوائم التطبيقات والألعاب
- 🔄 بيانات FRP Tools
- ❌ **لا يتم مسح** الثيمات والإعدادات

---

## 🧪 الاختبار

### 1. اختبر التحديث التلقائي
```javascript
// في Console:
localStorage.removeItem('falcon-x-last-cache-update');
location.reload();
// سيتم التحديث فوراً
```

### 2. تحقق من وقت التحديث التالي
```javascript
// في Console:
getNextUpdateTime();
```

### 3. اختبر Screenshots
افتح: `debug-screenshots.html`

---

## 🔍 Troubleshooting

### المشكلة: البيانات قديمة
**الحل:** اضغط Ctrl+Shift+R لإعادة التحميل الكامل

### المشكلة: Screenshots لا تظهر
**الحل:** امسح localStorage واضغط F5

### المشكلة: التحديث لا يعمل
**الحل:** تحقق من اتصال الإنترنت وأعد المحاولة

---

## 📝 ملاحظات للمطورين

### تغيير فترة التحديث
في `main.js` السطر 59:
```javascript
const updateInterval = 24 * 60 * 60 * 1000; // 24 ساعة
// غيّر إلى 12 ساعة:
const updateInterval = 12 * 60 * 60 * 1000;
```

### تعطيل التحديث التلقائي
احذف أو علّق السطر 143 في `main.js`:
```javascript
// const wasUpdated = checkAutoUpdate();
```

---

## 🎉 الخلاصة

النظام الحالي يوفر:
- ⚡ أداء سريع (localStorage)
- 🔄 تحديثات تلقائية (كل 24 ساعة)
- 💾 توفير البيانات والموارد
- 🎨 حفظ تفضيلات المستخدم

**أفضل من كلا العالمين!** 🚀
