# نظام تسجيل الدخول - Falcon X Admin

## المميزات

✅ **حماية بـ GitHub Token**: تسجيل دخول آمن باستخدام GitHub Personal Access Token
✅ **قائمة Repositories**: عرض جميع المستودعات الخاصة بك واختيار المستودع للعمل عليه
✅ **حفظ تلقائي**: يحفظ التغييرات مباشرة على GitHub Repository المختار
✅ **جلسة آمنة**: الجلسة صالحة لمدة 24 ساعة
✅ **واجهة عربية**: تصميم عصري باللغة العربية

## كيفية الاستخدام

### 1. إنشاء GitHub Token

1. افتح [GitHub Settings → Personal Access Tokens](https://github.com/settings/tokens/new)
2. أعط Token اسم (مثل: `Falcon X Admin`)
3. اختر الصلاحيات التالية:
   - ✅ `repo` (الوصول الكامل للمستودعات)
   - ✅ `user` (قراءة معلومات المستخدم)
4. اضغط "Generate token"
5. **⚠️ مهم**: انسخ الـ Token فوراً (لن تتمكن من رؤيته مرة أخرى)

### 2. تسجيل الدخول

1. افتح `login.html` في المتصفح
2. الصق GitHub Token في الخانة
3. اضغط "تسجيل الدخول"
4. ستظهر قائمة بجميع repositories الخاصة بك

### 3. اختيار Repository

1. ابحث عن Repository المطلوب أو اختره من القائمة
2. اضغط عليه (سيتم تحديده باللون الأزرق)
3. اضغط "الدخول إلى لوحة التحكم"

### 4. العمل على لوحة التحكم

- جميع التغييرات تُحفظ محلياً أولاً
- عند الحفظ، يتم رفع البيانات إلى GitHub Repository المختار
- يمكنك تسجيل الخروج من زر Logout في أعلى اليمين
- لتغيير Repository، اذهب إلى "Account Info" واضغط "Change Repository"

## الملفات

- **`login.html`**: صفحة تسجيل الدخول
- **`admin.html`**: لوحة التحكم (محمية)
- **`index.html`**: الصفحة الرئيسية (للزوار)

## الأمان

- ✅ Token محفوظ في `localStorage` (لا يُرسل إلى أي خادم)
- ✅ الجلسة تنتهي تلقائياً بعد 24 ساعة
- ✅ عند إغلاق الصفحة، يُطلب منك التأكيد إذا كان هناك تغييرات غير محفوظة
- ✅ لا يمكن الدخول لـ `admin.html` بدون تسجيل دخول
- ✅ لا يوجد تكرار لإدخال Token - تُدخله مرة واحدة فقط عند تسجيل الدخول

## ملاحظات

- **الجلسة**: صالحة لمدة 24 ساعة من وقت تسجيل الدخول
- **Token**: احفظ Token في مكان آمن لاستخدامه لاحقاً
- **البيانات**: تُحفظ في ملف `data.json` في Repository المختار
- **GitHub API**: يستخدم GitHub API بدون أي وسيط

## استكشاف الأخطاء

### "Token غير صحيح أو غير مصرح"
- تأكد من صلاحيات Token (repo + user)
- تأكد من أن Token لم ينتهِ صلاحيته

### "فشل في جلب المستودعات"
- تأكد من اتصالك بالإنترنت
- تأكد من صلاحيات Token

### "تم تسجيل الخروج تلقائياً"
- انتهت صلاحية الجلسة (24 ساعة)
- سجل دخول مرة أخرى

## الفرق بين النظام القديم والجديد

### النظام القديم (قبل صفحة تسجيل الدخول)
- ❌ لا يوجد حماية - أي شخص يمكنه الدخول إلى `admin.html`
- ❌ يجب إدخال Token يدوياً في GitHub Settings كل مرة
- ❌ يجب كتابة اسم Repository يدوياً

### النظام الجديد (بعد صفحة تسجيل الدخول)
- ✅ **محمي بالكامل**: لا يمكن الدخول بدون تسجيل دخول
- ✅ **Token مرة واحدة**: تُدخله فقط في صفحة تسجيل الدخول
- ✅ **قائمة Repositories**: اختر من قائمة بدلاً من الكتابة اليدوية
- ✅ **جلسة آمنة**: 24 ساعة بدون إعادة إدخال Token
- ✅ **Account Info**: عرض معلومات الحساب الحالي بدلاً من GitHub Settings

## الدعم

للمزيد من المساعدة، راجع [GitHub Docs](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)
